"use strict";(self.webpackChunkfront_end=self.webpackChunkfront_end||[]).push([[586],{92586:function(e,s,t){t.r(s),t.d(s,{default:function(){return w}});var n=t(4942),r=t(1413),a=t(74165),i=t(15861),l=t(29439),u=t(72791),o=t(28927),c=t(23853),d=t(39126),m=t(57689),p=t(11087),f=t(84373),g=t(56534),h=t(59434),v=t(91265),x=t(6705),j=t(80184),w=function(){var e=(0,h.I0)(),s=(0,g.VY)(),t=(0,m.s0)(),w=(0,m.TH)(),N=(0,h.v9)((function(e){return e.user})),L=N.error,Z=N.loading,y=N.isAuthenticated,C=(0,u.useState)(""),R=(0,l.Z)(C,2),S=R[0],T=R[1],b=(0,u.useState)(""),k=(0,l.Z)(b,2),F=k[0],P=k[1],E=(0,u.useState)({name:"",email:"",password:""}),I=(0,l.Z)(E,2),q=I[0],D=I[1],_=(0,u.useState)(null),A=(0,l.Z)(_,2),B=A[0],G=A[1],M=(0,u.useState)("./profile.png"),z=(0,l.Z)(M,2),H=z[0],O=z[1],U=q.name,V=q.email,Y=q.password,J=(0,u.useRef)(null),K=(0,u.useRef)(null),Q=(0,u.useRef)(null),W=function(){var t=(0,i.Z)((0,a.Z)().mark((function t(n){return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,e((0,v.x4)(S,F,(function(){s.success("Logged in successfully")})));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),X=function(e){if("avatar"===e.target.name){var s=new FileReader;s.onload=function(){2===s.readyState&&(O(s.result),G(e.target.files[0]))},s.readAsDataURL(e.target.files[0])}else D((0,r.Z)((0,r.Z)({},q),{},(0,n.Z)({},e.target.name,e.target.value)))};(0,u.useEffect)((function(){L&&(s.error(L),e((0,v.b9)()));var n=w.search?w.search.split("=")[1]:"account";y&&t("/".concat(n))}),[L,e,s,y,t,w]);var $=function(e,s){"login"===s&&(Q.current.classList.add("shiftToNeutral"),Q.current.classList.remove("shiftToRight"),K.current.classList.remove("shiftToNeutralForm"),J.current.classList.remove("shiftToLeft")),"register"===s&&(Q.current.classList.add("shiftToRight"),Q.current.classList.remove("shiftToNeutral"),K.current.classList.add("shiftToNeutralForm"),J.current.classList.add("shiftToLeft"))};return(0,j.jsxs)(u.Fragment,{children:[(0,j.jsx)(x.Z,{title:"Login / Register"}),Z?(0,j.jsx)(o.Z,{}):(0,j.jsx)("div",{className:"LoginSignupContainer",children:(0,j.jsxs)("div",{className:"LoginSignupBox",children:[(0,j.jsxs)("div",{children:[(0,j.jsxs)("div",{className:"login_signup_toggle",children:[(0,j.jsx)("p",{onClick:function(e){return $(0,"login")},children:"LOGIN"}),(0,j.jsx)("p",{onClick:function(e){return $(0,"register")},children:"REGISTER"})]}),(0,j.jsx)("button",{ref:Q})]}),(0,j.jsxs)("form",{className:"loginForm",ref:J,onSubmit:W,children:[(0,j.jsxs)("div",{className:"loginEmail",children:[(0,j.jsx)(c.Imn,{}),(0,j.jsx)("input",{type:"email",placeholder:"Email",required:!0,value:S,onChange:function(e){return T(e.target.value)}})]}),(0,j.jsxs)("div",{className:"loginPassword",children:[(0,j.jsx)(d.MpP,{}),(0,j.jsx)("input",{type:"password",placeholder:"Password",required:!0,value:F,onChange:function(e){return P(e.target.value)}})]}),(0,j.jsx)(p.Link,{to:"/password/forgot",children:"Forgot Password ?"}),(0,j.jsx)("input",{type:"submit",value:"Login",className:"loginBtn"})]}),(0,j.jsxs)("form",{className:"signupForm",ref:K,onSubmit:function(s){s.preventDefault();var t=new FormData;t.set("name",U),t.set("email",V),t.set("password",Y),t.append("avatar",B),e((0,v.z2)(t))},encType:"multipart/form-data",children:[(0,j.jsxs)("div",{className:"signupName",children:[(0,j.jsx)(f.hyG,{}),(0,j.jsx)("input",{type:"text",placeholder:"Name",required:!0,name:"name",value:U,onChange:X})]}),(0,j.jsxs)("div",{className:"signupEmail",children:[(0,j.jsx)(c.Imn,{}),(0,j.jsx)("input",{type:"email",placeholder:"Email",required:!0,name:"email",value:V,onChange:X})]}),(0,j.jsxs)("div",{className:"signupPassword",children:[(0,j.jsx)(d.MpP,{}),(0,j.jsx)("input",{type:"password",placeholder:"Password",required:!0,name:"password",value:Y,onChange:X})]}),(0,j.jsxs)("div",{id:"registerImage",children:[(0,j.jsx)("img",{src:H,alt:"Avatar Preview"}),(0,j.jsx)("input",{type:"file",name:"avatar",accept:"image/*",onChange:X})]}),(0,j.jsx)("input",{type:"submit",value:"Register",className:"signupBtn",disabled:!!Z})]})]})})]})}},6705:function(e,s,t){var n=t(54270),r=t(80184);s.Z=function(e){var s=e.title;return(0,r.jsx)(n.Z,{children:(0,r.jsx)("title",{children:s})})}}}]);
//# sourceMappingURL=586.57bbc922.chunk.js.map