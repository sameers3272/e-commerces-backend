"use strict";(self.webpackChunkfront_end=self.webpackChunkfront_end||[]).push([[693],{8693:function(e,t,n){n.r(t),n.d(t,{default:function(){return x}});var a=n(29439),r=n(72791),i=n(59434),s=n(57689),l=n(36548),o=n(56534),u=n(91265),c=n(30288),d=n(84373),f=n(23853),m=n(6705),p=n(28927),v=n(19017),h=n(80184),x=function(){var e=(0,i.v9)((function(e){return e.user})),t=e.isAuthenticated,n=e.user,x=(0,i.v9)((function(e){return e.profile})),g=x.error,j=x.isUpdated,P=x.loading,A=(0,s.s0)(),y=(0,i.I0)(),N=(0,o.VY)(),C=(0,r.useState)(""),Z=(0,a.Z)(C,2),b=Z[0],S=Z[1],U=(0,r.useState)(""),k=(0,a.Z)(U,2),w=k[0],F=k[1],I=(0,r.useState)(null),E=(0,a.Z)(I,2),D=E[0],q=E[1],B=(0,r.useState)("".concat(v.A,"/images/Profile.png")),R=(0,a.Z)(B,2),T=R[0],_=R[1];return(0,r.useEffect)((function(){n&&(S(n.name),F(n.email),_("".concat(v.A,"/").concat(n.avatar))),g&&(N.error(g),y((0,u.b9)())),j&&(N.success("Profile Updated Successfully"),y((0,u.II)()),A("/account"),y({type:c.l8})),(0,l.l)(t,A)}),[g,y,N,t,A,j,n]),(0,h.jsx)(r.Fragment,{children:P?(0,h.jsx)(p.Z,{}):(0,h.jsxs)(r.Fragment,{children:[(0,h.jsx)(m.Z,{title:"Update Profile"}),(0,h.jsx)("div",{className:"updateProfileContainer",children:(0,h.jsxs)("div",{className:"updateProfileBox",children:[(0,h.jsx)("h2",{className:"updateProfileHeading",children:"Update Profile"}),(0,h.jsxs)("form",{className:"updateProfileForm",onSubmit:function(e){e.preventDefault();var t=new FormData;t.set("name",b),t.set("email",w),t.set("avatar",D),y((0,u.ck)(Object.fromEntries(t)))},encType:"multipart/form-data",children:[(0,h.jsxs)("div",{className:"updateProfileName",children:[(0,h.jsx)(d.hyG,{}),(0,h.jsx)("input",{type:"text",placeholder:"Name",required:!0,name:"name",value:b,onChange:function(e){return S(e.target.value)}})]}),(0,h.jsxs)("div",{className:"updateProfileEmail",children:[(0,h.jsx)(f.Imn,{}),(0,h.jsx)("input",{type:"email",placeholder:"Email",required:!0,name:"email",value:w,onChange:function(e){return F(e.target.value)}})]}),(0,h.jsxs)("div",{id:"updateProfileImage",children:[(0,h.jsx)("img",{src:T,alt:"Avatar Preview"}),(0,h.jsx)("input",{type:"file",name:"avatar",accept:"image/*",onChange:function(e){var t=new FileReader;t.onload=function(){2===t.readyState&&(_(t.result),q(e.target.files[0]))},t.readAsDataURL(e.target.files[0])}})]}),(0,h.jsx)("input",{type:"submit",value:"Update",className:"updateProfileBtn",disabled:!!P})]})]})})]})})}},6705:function(e,t,n){var a=n(54270),r=n(80184);t.Z=function(e){var t=e.title;return(0,r.jsx)(a.Z,{children:(0,r.jsx)("title",{children:t})})}},19017:function(e,t,n){n.d(t,{A:function(){return a}});var a="https://e-commerce-gho7.onrender.com"},36548:function(e,t,n){n.d(t,{C:function(){return r},l:function(){return a}});var a=function(e,t){void 0!==e&&setTimeout((function(){!1===e&&(console.log("userAuth",e),t("/login"))}),500)},r=function(e,t,n,a){!0===e&&t&&void 0!==t.role&&"admin"!==t.role&&(console.log("adminAuth"),n("/login"),a.error("Cannot Access Admin Authorities"))}}}]);
//# sourceMappingURL=693.f5759f62.chunk.js.map