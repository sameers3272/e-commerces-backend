{"version":3,"file":"static/js/539.fe7b8d75.chunk.js","mappings":"iNAmDA,EA3CsB,SAAC,GAAoB,IAAlBA,EAAiB,EAAjBA,WACjBC,EAAQ,CACZ,CACEC,OAAO,SAACC,EAAA,EAAD,+BACPC,MAAM,SAAC,MAAD,CAAiBC,MAAO,CAAEC,SAAU,OAE5C,CACEJ,OAAO,SAACC,EAAA,EAAD,4BACPC,MAAM,SAAC,MAAD,CAAmBC,MAAO,CAAEC,SAAU,OAE9C,CACEJ,OAAO,SAACC,EAAA,EAAD,sBACPC,MAAM,SAAC,MAAD,CAAkBC,MAAO,CAAEC,SAAU,QAO/C,OACE,gBAAKC,UAAU,gBAAf,UACE,SAACC,EAAA,EAAD,CAASC,kBAAgB,EAACT,WAAYA,EAAYK,MALnC,CACjBK,UAAW,cAIT,SACGT,EAAMU,KAAI,SAACC,EAAMC,GAAP,OACT,SAACC,EAAA,EAAD,CAEEC,OAAQf,IAAea,EACvBG,UAAWhB,GAAca,EAH3B,UAKE,SAACI,EAAA,EAAD,CACEZ,MAAO,CACLa,MAAOlB,GAAca,EAAQ,SAAW,SAE1CT,KAAMQ,EAAKR,KAJb,SAMGQ,EAAKV,SAVHW,EAFE,OAmBlB,C,+PC4FD,EAtHgB,WACd,IAAMM,GAAWC,EAAAA,EAAAA,MACXC,GAAQC,EAAAA,EAAAA,MACRC,GAASC,EAAAA,EAAAA,aACTC,GAAWC,EAAAA,EAAAA,eACXC,GAAWC,EAAAA,EAAAA,MAEjB,GAAoCC,EAAAA,EAAAA,KAAY,SAACC,GAAD,OAAWA,EAAMC,IAAjB,IAAxCC,EAAR,EAAQA,aAAcC,EAAtB,EAAsBA,UACtB,GAAkCJ,EAAAA,EAAAA,KAAY,SAACC,GAAD,OAAWA,EAAMI,IAAjB,IAAtCC,EAAR,EAAQA,gBAAiBD,EAAzB,EAAyBA,KACjBE,GAAUP,EAAAA,EAAAA,KAAY,SAACC,GAAD,OAAWA,EAAMO,QAAjB,IAAtBD,MAEFE,EAAYC,KAAKC,MAAMC,eAAeC,QAAQ,cAC9CC,GAASC,EAAAA,EAAAA,QAAO,MAChBC,EAAc,CAClBC,OAAQC,KAAKC,MAA6B,IAAvBV,EAAUW,aAGzBC,EAAQ,CACZlB,aAAAA,EACAmB,WAAYlB,EACZmB,WAAYd,EAAUe,SACtBC,SAAUhB,EAAUiB,IACpBC,cAAelB,EAAUmB,gBACzBR,WAAYX,EAAUW,YAGlBS,EAAa,yCAAG,WAAOC,GAAP,2FACpBA,EAAEC,iBACFjB,EAAOkB,QAAQC,UAAW,EAFN,SAIZC,EAAS,CAAEC,QAAS,CAAE,eAAgB,qBAJ1B,SAKKC,IAAAA,KAAA,0BAErBpB,EACAkB,GARgB,mBAKVG,EALU,EAKVA,KAKFC,EAAgBD,EAAKC,cAEtB5C,GAAWE,EAZE,oEAcGF,EAAO6C,mBAAmBD,EAAe,CAC5DE,eAAgB,CACdC,KAAM7C,EAAS8C,WAAWC,EAAAA,mBAC1BC,gBAAiB,CACfC,KAAMxC,EAAKwC,KACXC,MAAOzC,EAAKyC,MACZC,QAAS,CACPC,MAAO7C,EAAa4C,QACpBE,KAAM9C,EAAa8C,KACnBhD,MAAOE,EAAaF,MACpBiD,YAAa/C,EAAagD,QAC1BC,QAASjD,EAAaiD,aAzBZ,SAcZC,EAdY,QA8BP9C,OACTO,EAAOkB,QAAQC,UAAW,EAC1BzC,EAAMe,MAAM8C,EAAO9C,MAAM+C,UAEW,cAAhCD,EAAOE,cAAcC,QACvBnC,EAAMoC,YAAc,CAClBC,GAAIL,EAAOE,cAAcG,GACzBF,OAAQH,EAAOE,cAAcC,QAE/B1D,GAAS6D,EAAAA,EAAAA,IAAYtC,IACrBvB,GAAS8D,EAAAA,EAAAA,OACTtE,EAAS,qBAETE,EAAMe,MAAM,+CA3CE,kDA+ClBO,EAAOkB,QAAQC,UAAW,EAC1BzC,EAAMe,MAAM,KAAMsD,SAASxB,KAAKiB,SAhDd,0DAAH,sDA4DnB,OARAQ,EAAAA,EAAAA,YAAU,WACJvD,IACFf,EAAMe,MAAMA,GACZT,GAASiE,EAAAA,EAAAA,SAEXC,EAAAA,EAAAA,GAAS1D,EAAiBhB,EAC3B,GAAE,CAACgB,EAAiBhB,EAAUE,EAAOe,EAAOT,KAG3C,UAAC,EAAAmE,SAAD,YACE,SAACC,EAAA,EAAD,CAAUC,MAAM,aAChB,SAACC,EAAA,EAAD,CAAejG,WAAY,KAC3B,gBAAKO,UAAU,mBAAf,UACE,kBAAMA,UAAU,cAAc2F,SAAU,SAACvC,GAAD,OAAOD,EAAcC,EAArB,EAAxC,WACE,SAACxD,EAAA,EAAD,yBACA,4BACE,SAAC,MAAD,KACA,SAAC,EAAAqE,kBAAD,CAAmBjE,UAAU,qBAE/B,4BACE,SAAC,MAAD,KACA,SAAC,EAAA4F,kBAAD,CAAmB5F,UAAU,qBAE/B,4BACE,SAAC,MAAD,KACA,SAAC,EAAA6F,eAAD,CAAgB7F,UAAU,qBAG5B,kBACE8F,KAAK,SACL9F,UAAU,iBACV+F,IAAK3D,EACL4D,MAAK,oBAAUjE,GAAaA,EAAUW,qBAMjD,C,iDCjID,IARiB,SAAC,GAAa,IAAZ+C,EAAW,EAAXA,MACjB,OACE,SAAC,IAAD,WACI,2BAAQA,KAGf,C,0LCAYQ,EAAiB,SAACjB,EAAIkB,GAAL,gDAAkB,WAAO9E,EAAU+E,GAAjB,8FACvBzC,IAAAA,IAAA,0BAA6BsB,IADN,gBACtCrB,EADsC,EACtCA,KACRvC,EAAS,CACP0E,KAAMM,EAAAA,GACNC,QAAS,CACPC,QAAS3C,EAAK2C,QAAQC,IACtBpC,KAAMR,EAAK2C,QAAQnC,KACnBqC,MAAO7C,EAAK2C,QAAQE,MACpBC,MAAO9C,EAAK2C,QAAQI,OAAO,GAC3BC,MAAOhD,EAAK2C,QAAQK,MACpBT,SAAAA,KAGJU,aAAaC,QAAQ,YAAa7E,KAAK8E,UAAUX,IAAW3E,KAAKE,YAbnB,2CAAlB,yDAgBjBqF,EAAsB,SAAC/B,GAAD,gDAAQ,WAAO5D,EAAU+E,GAAjB,sEACzC/E,EAAS,CACP0E,KAAMkB,EAAAA,GACNX,QAASrB,IAEX4B,aAAaC,QAAQ,YAAa7E,KAAK8E,UAAUX,IAAW3E,KAAKE,YALxB,2CAAR,yDAQtBwD,EAAY,2DAAM,WAAO9D,GAAP,sEAC7BA,EAAS,CACP0E,KAAMmB,EAAAA,KAERL,aAAaM,WAAW,aAJK,2CAAN,uDAOZC,EAAmB,SAACxD,GAAD,gDAAU,WAAOvC,EAAU+E,GAAjB,sEACxC/E,EAAS,CAAE0E,KAAMsB,EAAAA,GAAoBf,QAAS1C,IAC9CiD,aAAaC,QACX,eACA7E,KAAK8E,UAAUX,IAAW3E,KAAKC,eAJO,2CAAV,wD,kQChBnBwD,EAAc,SAACtC,GAAD,gDAAW,WAAOvB,GAAP,gGAElCA,EAAS,CAAE0E,KAAMuB,EAAAA,KAEX7D,EAAS,CAAEC,QAAS,CAAE,eAAgB,qBAJV,SAKXC,IAAAA,KAAW,oBAAqBf,EAAOa,GAL5B,gBAK1BG,EAL0B,EAK1BA,KAERvC,EAAS,CACP0E,KAAMwB,EAAAA,GACNjB,QAAS1C,IATuB,kDAYlCvC,EAAS,CACP0E,KAAMyB,EAAAA,GACNlB,QAAS,KAAMlB,SAASxB,KAAKiB,UAdG,0DAAX,uDAmBd4C,EAAW,2DAAM,WAAOpG,GAAP,8FAE1BA,EAAS,CAAE0E,KAAM2B,EAAAA,KAFS,SAIH/D,IAAAA,IAAU,qBAJP,gBAIlBC,EAJkB,EAIlBA,KACRvC,EAAS,CACP0E,KAAM4B,EAAAA,GACNrB,QAAS1C,EAAKgE,SAPU,gDAU1BvG,EAAS,CACP0E,KAAM8B,EAAAA,GACNvB,QAAS,KAAMlB,SAASxB,KAAKiB,UAZL,yDAAN,uDAiBXiD,EAAkB,SAAC7C,GAAD,gDAAQ,WAAO5D,GAAP,8FAEnCA,EAAS,CAAE0E,KAAMgC,EAAAA,KAFkB,SAIZpE,IAAAA,IAAA,wBAA2BsB,IAJf,gBAI3BrB,EAJ2B,EAI3BA,KACRvC,EAAS,CACP0E,KAAMiC,EAAAA,GACN1B,QAAS1C,EAAKhB,QAPmB,gDAUnCvB,EAAS,CACP0E,KAAMkC,EAAAA,GACN3B,QAAS,KAAMlB,SAASxB,KAAKiB,UAZI,yDAAR,uDAiBlBqD,EAAe,2DAAM,WAAO7G,GAAP,8FAE9BA,EAAS,CAAE0E,KAAMoC,EAAAA,KAFa,SAIPxE,IAAAA,IAAU,wBAJH,gBAItBC,EAJsB,EAItBA,KAERvC,EAAS,CACP0E,KAAMqC,EAAAA,GACN9B,QAAS1C,EAAKgE,SARc,gDAW9BvG,EAAS,CACP0E,KAAMsC,EAAAA,GACN/B,QAAS,KAAMlB,SAASxB,KAAKiB,UAbD,yDAAN,uDAkBfyD,EAAc,SAACrD,EAAIrC,GAAL,gDAAe,WAAOvB,GAAP,gGAEtCA,EAAS,CAAE0E,KAAMwC,EAAAA,KAEX9E,EAAS,CAAEC,QAAS,CAAE,eAAgB,qBAJN,SAMfC,IAAAA,IAAA,8BACEsB,GACvBrC,EACAa,GAToC,gBAM9BG,EAN8B,EAM9BA,KAMRvC,EAAS,CACP0E,KAAMyC,EAAAA,GACNlC,QAAS1C,EAAK6E,UAdsB,kDAiBtCpH,EAAS,CACP0E,KAAM2C,EAAAA,GACNpC,QAAS,KAAMlB,SAASxB,KAAKiB,UAnBO,0DAAf,uDAwBd8D,EAAc,SAAC1D,GAAD,gDAAQ,WAAO5D,GAAP,8FAE/BA,EAAS,CAAE0E,KAAM6C,EAAAA,KAFc,SAIRjF,IAAAA,OAAA,8BAAoCsB,IAJ5B,gBAIvBrB,EAJuB,EAIvBA,KAERvC,EAAS,CACP0E,KAAM8C,EAAAA,GACNvC,QAAS1C,EAAK6E,UARe,gDAY/BpH,EAAS,CACP0E,KAAM+C,EAAAA,GACNxC,QAAS,KAAMlB,SAASxB,KAAKiB,UAdA,yDAAR,uDAmBdS,EAAc,2DAAM,WAAOjE,GAAP,sEAC/BA,EAAS,CAAE0E,KAAMgD,EAAAA,KADc,2CAAN,sD,+ECzIpB,IAAMxD,EAAW,SAAC1D,EAAiBhB,QAChBmI,IAApBnH,GACFoH,YAAW,YACe,IAApBpH,IACFqH,QAAQC,IAAI,WAAYtH,GACxBhB,EAAS,UAEZ,GAAE,IAEN,EAEYuI,EAAY,SAACC,EAAOzH,EAAMf,EAAUE,IAEnC,IAAVsI,GACAzH,QACcoH,IAAdpH,EAAK0H,MACS,UAAd1H,EAAK0H,OAELJ,QAAQC,IAAI,aACZtI,EAAS,UACTE,EAAMe,MAAM,mCAEf,C","sources":["components/Cart/CheckOutSteps/CheckOutSteps.js","components/Cart/Payment/Payment.js","components/layout/MetaData/MetaData.js","redux/actions/cartAction.js","redux/actions/orderAction.js","util/userAuth.js"],"sourcesContent":["import \"./CheckOutSteps.css\";\r\nimport { Step, StepLabel, Stepper, Typography } from \"@material-ui/core\";\r\nimport {\r\n  MdAccountBalance,\r\n  MdLibraryAddCheck,\r\n  MdLocalShipping,\r\n} from \"react-icons/md\";\r\n\r\nconst CheckOutSteps = ({ activeStep }) => {\r\n  const steps = [\r\n    {\r\n      label: <Typography>Shipping Details</Typography>,\r\n      icon: <MdLocalShipping style={{ fontSize: 20 }} />,\r\n    },\r\n    {\r\n      label: <Typography>Confirm Order</Typography>,\r\n      icon: <MdLibraryAddCheck style={{ fontSize: 20 }} />,\r\n    },\r\n    {\r\n      label: <Typography>Payment</Typography>,\r\n      icon: <MdAccountBalance style={{ fontSize: 20 }} />,\r\n    },\r\n  ];\r\n\r\n  const stepStyles = {\r\n    boxSizing: \"border-box\",\r\n  };\r\n  return (\r\n    <div className=\"checkOutSteps\">\r\n      <Stepper alternativeLabel activeStep={activeStep} style={stepStyles}>\r\n        {steps.map((item, index) => (\r\n          <Step\r\n            key={index}\r\n            active={activeStep === index ? true : false}\r\n            completed={activeStep >= index ? true : false}\r\n          >\r\n            <StepLabel\r\n              style={{\r\n                color: activeStep >= index ? \"tomato\" : \"unset\",\r\n              }}\r\n              icon={item.icon}\r\n            >\r\n              {item.label}\r\n            </StepLabel>\r\n          </Step>\r\n        ))}\r\n      </Stepper>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CheckOutSteps;\r\n","import { Fragment, useRef, useEffect } from \"react\";\r\nimport \"./Payment.css\";\r\nimport { Typography } from \"@material-ui/core\";\r\nimport { MdCreditCard, MdEvent, MdVpnKey } from \"react-icons/md\";\r\nimport {\r\n  CardCvcElement,\r\n  CardExpiryElement,\r\n  CardNumberElement,\r\n  useElements,\r\n  useStripe,\r\n} from \"@stripe/react-stripe-js\";\r\nimport MetaData from \"../../layout/MetaData/MetaData\";\r\nimport CheckOutSteps from \"../CheckOutSteps/CheckOutSteps\";\r\nimport { userAuth } from \"../../../util/userAuth\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useAlert } from \"react-alert\";\r\nimport axios from \"axios\";\r\nimport { createOrder, clearErrors } from \"../../../redux/actions/orderAction\";\r\nimport { clearCart } from \"../../../redux/actions/cartAction\";\r\n\r\n\r\n\r\nconst Payment = () => {\r\n  const navigate = useNavigate();\r\n  const alert = useAlert();\r\n  const stripe = useStripe();\r\n  const elements = useElements();\r\n  const dispatch = useDispatch();\r\n\r\n  const { shippingInfo, cartItems } = useSelector((state) => state.cart);\r\n  const { isAuthenticated, user } = useSelector((state) => state.user);\r\n  const { error } = useSelector((state) => state.newOrder);\r\n\r\n  const orderInfo = JSON.parse(sessionStorage.getItem(\"orderInfo\"));\r\n  const payBtn = useRef(null);\r\n  const paymentData = {\r\n    amount: Math.round(orderInfo.totalPrice * 100),\r\n  };\r\n\r\n  const order = {\r\n    shippingInfo,\r\n    orderItems: cartItems,\r\n    itemsPrice: orderInfo.subtotal,\r\n    taxPrice: orderInfo.tax,\r\n    shippingPrice: orderInfo.shippingCharges,\r\n    totalPrice: orderInfo.totalPrice,\r\n  };\r\n\r\n  const submithandler = async (e) => {\r\n    e.preventDefault();\r\n    payBtn.current.disabled = true;\r\n    try {\r\n      const config = { headers: { \"Content-Type\": \"application/json\" } };\r\n      const { data } = await axios.post(\r\n        `/api/v1/payment/process`,\r\n        paymentData,\r\n        config\r\n      );\r\n      const client_secret = data.client_secret;\r\n\r\n      if (!stripe || !elements) return;\r\n\r\n      const result = await stripe.confirmCardPayment(client_secret, {\r\n        payment_method: {\r\n          card: elements.getElement(CardNumberElement),\r\n          billing_details: {\r\n            name: user.name,\r\n            email: user.email,\r\n            address: {\r\n              line1: shippingInfo.address,\r\n              city: shippingInfo.city,\r\n              state: shippingInfo.state,\r\n              postal_code: shippingInfo.pinCode,\r\n              country: shippingInfo.country,\r\n            },\r\n          },\r\n        },\r\n      });\r\n      if (result.error) {\r\n        payBtn.current.disabled = false;\r\n        alert.error(result.error.message);\r\n      } else {\r\n        if (result.paymentIntent.status === \"succeeded\") {\r\n          order.paymentInfo = {\r\n            id: result.paymentIntent.id,\r\n            status: result.paymentIntent.status,\r\n          };\r\n          dispatch(createOrder(order));\r\n          dispatch(clearCart());\r\n          navigate(\"/payment/success\");\r\n        } else {\r\n          alert.error(\"There's some issue while processing payment\");\r\n        }\r\n      }\r\n    } catch (error) {\r\n      payBtn.current.disabled = false;\r\n      alert.error(error.response.data.message);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (error) {\r\n      alert.error(error);\r\n      dispatch(clearErrors());\r\n    }\r\n    userAuth(isAuthenticated, navigate);\r\n  }, [isAuthenticated, navigate, alert, error, dispatch]);\r\n\r\n  return (\r\n    <Fragment>\r\n      <MetaData title=\"Payment\" />\r\n      <CheckOutSteps activeStep={2} />\r\n      <div className=\"paymentContainer\">\r\n        <form className=\"paymentForm\" onSubmit={(e) => submithandler(e)}>\r\n          <Typography>Card Info</Typography>\r\n          <div>\r\n            <MdCreditCard />\r\n            <CardNumberElement className=\"paymentInput\" />\r\n          </div>\r\n          <div>\r\n            <MdEvent />\r\n            <CardExpiryElement className=\"paymentInput\" />\r\n          </div>\r\n          <div>\r\n            <MdVpnKey />\r\n            <CardCvcElement className=\"paymentInput\" />\r\n          </div>\r\n\r\n          <input\r\n            type=\"submit\"\r\n            className=\"paymentFormBtn\"\r\n            ref={payBtn}\r\n            value={`Pay ₹${orderInfo && orderInfo.totalPrice}`}\r\n          />\r\n        </form>\r\n      </div>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default Payment;\r\n","import Helmet from \"react-helmet\";\r\n\r\nconst MetaData = ({title}) => {\r\n  return (\r\n    <Helmet>\r\n        <title>{title}</title>\r\n    </Helmet>\r\n  )\r\n}\r\n\r\nexport default MetaData","import axios from \"axios\";\r\nimport {\r\n  ADD_TO_CART,\r\n  CLEAR_CART,\r\n  REMOVE_CART_ITEM,\r\n  SAVE_SHIPPING_INFO,\r\n} from \"../constants/cartConstant\";\r\n\r\nexport const addItemsToCart = (id, quantity) => async (dispatch, getState) => {\r\n  const { data } = await axios.get(`/api/v1/product/${id}`);\r\n  dispatch({\r\n    type: ADD_TO_CART,\r\n    payload: {\r\n      product: data.product._id,\r\n      name: data.product.name,\r\n      price: data.product.price,\r\n      image: data.product.images[0],\r\n      stock: data.product.stock,\r\n      quantity,\r\n    },\r\n  });\r\n  localStorage.setItem(\"cartItems\", JSON.stringify(getState().cart.cartItems));\r\n};\r\n\r\nexport const removeItemsFromCart = (id) => async (dispatch, getState) => {\r\n  dispatch({\r\n    type: REMOVE_CART_ITEM,\r\n    payload: id,\r\n  });\r\n  localStorage.setItem(\"cartItems\", JSON.stringify(getState().cart.cartItems));\r\n};\r\n\r\nexport const clearCart = () => async (dispatch) => {\r\n  dispatch({\r\n    type: CLEAR_CART,\r\n  });\r\n  localStorage.removeItem(\"cartItems\");\r\n};\r\n\r\nexport const saveShippingInfo = (data) => async (dispatch, getState) => {\r\n  dispatch({ type: SAVE_SHIPPING_INFO, payload: data });\r\n  localStorage.setItem(\r\n    \"shippingInfo\",\r\n    JSON.stringify(getState().cart.shippingInfo)\r\n  );\r\n};\r\n","import axios from \"axios\";\r\nimport {\r\n  ALL_ORDERS_FAIL,\r\n  ALL_ORDERS_REQUEST,\r\n  ALL_ORDERS_SUCCESS,\r\n  CLEAR_ERRORS,\r\n  CREATE_ORDER_FAIL,\r\n  CREATE_ORDER_REQUEST,\r\n  CREATE_ORDER_SUCCESS,\r\n  DELETE_ORDER_FAIL,\r\n  DELETE_ORDER_REQUEST,\r\n  DELETE_ORDER_SUCCESS,\r\n  MY_ORDERS_FAIL,\r\n  MY_ORDERS_REQUEST,\r\n  MY_ORDERS_SUCCESS,\r\n  ORDER_DETAILS_FAIL,\r\n  ORDER_DETAILS_REQUEST,\r\n  ORDER_DETAILS_SUCCESS,\r\n  UPDATE_ORDER_FAIL,\r\n  UPDATE_ORDER_REQUEST,\r\n  UPDATE_ORDER_SUCCESS,\r\n} from \"../constants/orderConstant\";\r\n\r\nexport const createOrder = (order) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: CREATE_ORDER_REQUEST });\r\n\r\n    const config = { headers: { \"Content-Type\": \"application/json\" } };\r\n    const { data } = await axios.post(\"/api/v1/order/new\", order, config);\r\n\r\n    dispatch({\r\n      type: CREATE_ORDER_SUCCESS,\r\n      payload: data,\r\n    });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: CREATE_ORDER_FAIL,\r\n      payload: error.response.data.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const myOrders = () => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: MY_ORDERS_REQUEST });\r\n\r\n    const { data } = await axios.get(\"/api/v1/orders/me\");\r\n    dispatch({\r\n      type: MY_ORDERS_SUCCESS,\r\n      payload: data.orders,\r\n    });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: MY_ORDERS_FAIL,\r\n      payload: error.response.data.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const getOrderDetails = (id) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: ORDER_DETAILS_REQUEST });\r\n\r\n    const { data } = await axios.get(`/api/v1/order/${id}`);\r\n    dispatch({\r\n      type: ORDER_DETAILS_SUCCESS,\r\n      payload: data.order,\r\n    });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: ORDER_DETAILS_FAIL,\r\n      payload: error.response.data.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const getAllOrders = () => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: ALL_ORDERS_REQUEST });\r\n\r\n    const { data } = await axios.get(\"/api/v1/admin/orders\");\r\n\r\n    dispatch({\r\n      type: ALL_ORDERS_SUCCESS,\r\n      payload: data.orders,\r\n    });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: ALL_ORDERS_FAIL,\r\n      payload: error.response.data.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const updateOrder = (id, order) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: UPDATE_ORDER_REQUEST });\r\n\r\n    const config = { headers: { \"Content-Type\": \"application/json\" } };\r\n\r\n    const { data } = await axios.put(\r\n      `/api/v1/admin/order/${id}`,\r\n      order,\r\n      config\r\n    );\r\n\r\n    dispatch({\r\n      type: UPDATE_ORDER_SUCCESS,\r\n      payload: data.success,\r\n    });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: UPDATE_ORDER_FAIL,\r\n      payload: error.response.data.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const deleteOrder = (id) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: DELETE_ORDER_REQUEST });\r\n\r\n    const { data } = await axios.delete(`/api/v1/admin/order/${id}`);\r\n\r\n    dispatch({\r\n      type: DELETE_ORDER_SUCCESS,\r\n      payload: data.success,\r\n    });\r\n    \r\n  } catch (error) {\r\n    dispatch({\r\n      type: DELETE_ORDER_FAIL,\r\n      payload: error.response.data.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const clearErrors = () => async (dispatch) => {\r\n  dispatch({ type: CLEAR_ERRORS });\r\n};\r\n","export const userAuth = (isAuthenticated, navigate) => {\r\n  if (isAuthenticated !== undefined) {\r\n    setTimeout(() => {\r\n      if (isAuthenticated === false) {\r\n        console.log(\"userAuth\", isAuthenticated);\r\n        navigate(\"/login\");\r\n      }\r\n    }, 500);\r\n  }\r\n};\r\n\r\nexport const adminAuth = (admin, user, navigate, alert) => {\r\n  if (\r\n    admin === true &&\r\n    user &&\r\n    user.role !== undefined &&\r\n    user.role !== \"admin\"\r\n  ) {\r\n    console.log(\"adminAuth\");\r\n    navigate(\"/login\");\r\n    alert.error(\"Cannot Access Admin Authorities\");\r\n  }\r\n};\r\n"],"names":["activeStep","steps","label","Typography","icon","style","fontSize","className","Stepper","alternativeLabel","boxSizing","map","item","index","Step","active","completed","StepLabel","color","navigate","useNavigate","alert","useAlert","stripe","useStripe","elements","useElements","dispatch","useDispatch","useSelector","state","cart","shippingInfo","cartItems","user","isAuthenticated","error","newOrder","orderInfo","JSON","parse","sessionStorage","getItem","payBtn","useRef","paymentData","amount","Math","round","totalPrice","order","orderItems","itemsPrice","subtotal","taxPrice","tax","shippingPrice","shippingCharges","submithandler","e","preventDefault","current","disabled","config","headers","axios","data","client_secret","confirmCardPayment","payment_method","card","getElement","CardNumberElement","billing_details","name","email","address","line1","city","postal_code","pinCode","country","result","message","paymentIntent","status","paymentInfo","id","createOrder","clearCart","response","useEffect","clearErrors","userAuth","Fragment","MetaData","title","CheckOutSteps","onSubmit","CardExpiryElement","CardCvcElement","type","ref","value","addItemsToCart","quantity","getState","ADD_TO_CART","payload","product","_id","price","image","images","stock","localStorage","setItem","stringify","removeItemsFromCart","REMOVE_CART_ITEM","CLEAR_CART","removeItem","saveShippingInfo","SAVE_SHIPPING_INFO","CREATE_ORDER_REQUEST","CREATE_ORDER_SUCCESS","CREATE_ORDER_FAIL","myOrders","MY_ORDERS_REQUEST","MY_ORDERS_SUCCESS","orders","MY_ORDERS_FAIL","getOrderDetails","ORDER_DETAILS_REQUEST","ORDER_DETAILS_SUCCESS","ORDER_DETAILS_FAIL","getAllOrders","ALL_ORDERS_REQUEST","ALL_ORDERS_SUCCESS","ALL_ORDERS_FAIL","updateOrder","UPDATE_ORDER_REQUEST","UPDATE_ORDER_SUCCESS","success","UPDATE_ORDER_FAIL","deleteOrder","DELETE_ORDER_REQUEST","DELETE_ORDER_SUCCESS","DELETE_ORDER_FAIL","CLEAR_ERRORS","undefined","setTimeout","console","log","adminAuth","admin","role"],"sourceRoot":""}