"use strict";(self.webpackChunkfront_end=self.webpackChunkfront_end||[]).push([[693],{8693:function(e,t,a){a.r(t),a.d(t,{default:function(){return h}});var n=a(29439),r=a(72791),i=a(59434),l=a(57689),s=a(36548),u=a(56534),o=a(91265),c=a(30288),d=a(84373),f=a(23853),m=a(6705),p=a(28927),v=a(80184),h=function(){var e=(0,i.v9)((function(e){return e.user})),t=e.isAuthenticated,a=e.user,h=(0,i.v9)((function(e){return e.profile})),x=h.error,j=h.isUpdated,g=h.loading,P=(0,l.s0)(),y=(0,i.I0)(),N=(0,u.VY)(),A=(0,r.useState)(""),C=(0,n.Z)(A,2),Z=C[0],b=C[1],S=(0,r.useState)(""),U=(0,n.Z)(S,2),k=U[0],w=U[1],F=(0,r.useState)(null),I=(0,n.Z)(F,2),E=I[0],D=I[1],q=(0,r.useState)("./profile.png"),B=(0,n.Z)(q,2),R=B[0],T=B[1];return(0,r.useEffect)((function(){a&&(b(a.name),w(a.email),T("/".concat(a.avatar))),x&&(N.error(x),y((0,o.b9)())),j&&(N.success("Profile Updated Successfully"),y((0,o.II)()),P("/account"),y({type:c.l8})),(0,s.l)(t,P)}),[x,y,N,t,P,j,a]),(0,v.jsx)(r.Fragment,{children:g?(0,v.jsx)(p.Z,{}):(0,v.jsxs)(r.Fragment,{children:[(0,v.jsx)(m.Z,{title:"Update Profile"}),(0,v.jsx)("div",{className:"updateProfileContainer",children:(0,v.jsxs)("div",{className:"updateProfileBox",children:[(0,v.jsx)("h2",{className:"updateProfileHeading",children:"Update Profile"}),(0,v.jsxs)("form",{className:"updateProfileForm",onSubmit:function(e){e.preventDefault();var t=new FormData;t.set("name",Z),t.set("email",k),t.set("avatar",E),y((0,o.ck)(Object.fromEntries(t)))},encType:"multipart/form-data",children:[(0,v.jsxs)("div",{className:"updateProfileName",children:[(0,v.jsx)(d.hyG,{}),(0,v.jsx)("input",{type:"text",placeholder:"Name",required:!0,name:"name",value:Z,onChange:function(e){return b(e.target.value)}})]}),(0,v.jsxs)("div",{className:"updateProfileEmail",children:[(0,v.jsx)(f.Imn,{}),(0,v.jsx)("input",{type:"email",placeholder:"Email",required:!0,name:"email",value:k,onChange:function(e){return w(e.target.value)}})]}),(0,v.jsxs)("div",{id:"updateProfileImage",children:[(0,v.jsx)("img",{src:R,alt:"Avatar Preview"}),(0,v.jsx)("input",{type:"file",name:"avatar",accept:"image/*",onChange:function(e){var t=new FileReader;t.onload=function(){2===t.readyState&&(T(t.result),D(e.target.files[0]))},t.readAsDataURL(e.target.files[0])}})]}),(0,v.jsx)("input",{type:"submit",value:"Update",className:"updateProfileBtn",disabled:!!g})]})]})})]})})}},6705:function(e,t,a){var n=a(54270),r=a(80184);t.Z=function(e){var t=e.title;return(0,r.jsx)(n.Z,{children:(0,r.jsx)("title",{children:t})})}},36548:function(e,t,a){a.d(t,{C:function(){return r},l:function(){return n}});var n=function(e,t){void 0!==e&&setTimeout((function(){!1===e&&(console.log("userAuth",e),t("/login"))}),500)},r=function(e,t,a,n){!0===e&&t&&void 0!==t.role&&"admin"!==t.role&&(console.log("adminAuth"),a("/login"),n.error("Cannot Access Admin Authorities"))}}}]);
//# sourceMappingURL=693.1906dfd3.chunk.js.map