"use strict";(self.webpackChunkfront_end=self.webpackChunkfront_end||[]).push([[64],{53064:function(e,n,t){t.r(n),t.d(n,{default:function(){return h}});var r=t(72791),a=t(59434),o=t(81814),s=t(56534),u=t(28927),c=t(6705),i=t(38302),p=t(16856),d=t(72326),f=t(36548),l=t(57689),m=t(11087),v=t(80184),h=function(){var e=(0,a.I0)(),n=(0,s.VY)(),t=(0,l.s0)(),h=(0,a.v9)((function(e){return e.user})),y=h.user,x=h.isAuthenticated,g=h.loading,Z=(0,a.v9)((function(e){return e.myOrders})),w=Z.loading,k=Z.error,b=Z.orders,j=[{field:"id",headerName:"Order ID",minWidth:300,flex:.5},{field:"status",headerName:"Status",minWidth:150,flex:.2,cellClassName:function(e){return"Delivered"===e.getValue(e.id,"status")?"greenColor":"redColor"}},{field:"noOfItems",headerName:"No of Items",type:"number",minWidth:150,flex:.2},{field:"amount",headerName:"Amount",type:"number",minWidth:150,flex:.3},{field:"action",headerName:"Action",type:"number",minWidth:150,flex:.2,sortable:!1,renderCell:function(e){return(0,v.jsx)(m.Link,{to:"/order/".concat(e.getValue(e.id,"id")),children:(0,v.jsx)(p.wgi,{size:window.innerWidth>=600?25:20})})}}],C=[];return b&&b.forEach((function(e,n){C.push({noOfItems:e.orderItems.length,id:e._id,status:e.orderStatus,amount:e.totalPrice})})),(0,r.useEffect)((function(){k&&(n.error(k),e((0,d.b9)())),e((0,d.TG)()),(0,f.l)(x,t)}),[k,e,n,x,t]),(0,v.jsx)(r.Fragment,{children:w&&g?(0,v.jsx)(u.Z,{}):(0,v.jsxs)("div",{className:"myOrdersPage",children:[(0,v.jsx)(c.Z,{title:"".concat(y.name," - Orders")}),(0,v.jsx)(o._$r,{rows:C,columns:j,pageSize:10,disableSelectionOnClick:!0,className:"myOrdersTable",autoHeight:!0}),(0,v.jsx)(i.Z,{id:"myOrdersHeading",children:"".concat(y.name,"'s Orders")})]})})}},6705:function(e,n,t){var r=t(54270),a=t(80184);n.Z=function(e){var n=e.title;return(0,a.jsx)(r.Z,{children:(0,a.jsx)("title",{children:n})})}},72326:function(e,n,t){t.d(n,{Cs:function(){return f},LV:function(){return c},TG:function(){return i},b9:function(){return m},s$:function(){return p},wH:function(){return l},zk:function(){return d}});var r=t(74165),a=t(15861),o=t(74569),s=t.n(o),u=t(17234),c=function(e){return function(){var n=(0,a.Z)((0,r.Z)().mark((function n(t){var a,o,c;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t({type:u.ib}),a={headers:{"Content-Type":"application/json"}},n.next=5,s().post("/api/v1/order/new",e,a);case 5:o=n.sent,c=o.data,t({type:u.mr,payload:c}),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),t({type:u.Sr,payload:n.t0.response.data.message});case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}()},i=function(){return function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n){var t,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n({type:u.A4}),e.next=4,s().get("/api/v1/orders/me");case 4:t=e.sent,a=t.data,n({type:u.SJ,payload:a.orders}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),n({type:u.ut,payload:e.t0.response.data.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(n){return e.apply(this,arguments)}}()},p=function(e){return function(){var n=(0,a.Z)((0,r.Z)().mark((function n(t){var a,o;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t({type:u.YO}),n.next=4,s().get("/api/v1/order/".concat(e));case 4:a=n.sent,o=a.data,t({type:u.um,payload:o.order}),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),t({type:u.Ab,payload:n.t0.response.data.message});case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()},d=function(){return function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n){var t,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n({type:u.Ux}),e.next=4,s().get("/api/v1/admin/orders");case 4:t=e.sent,a=t.data,n({type:u.g6,payload:a.orders}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),n({type:u.xH,payload:e.t0.response.data.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(n){return e.apply(this,arguments)}}()},f=function(e,n){return function(){var t=(0,a.Z)((0,r.Z)().mark((function t(a){var o,c,i;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:u.Mi}),o={headers:{"Content-Type":"application/json"}},t.next=5,s().put("/api/v1/admin/order/".concat(e),n,o);case 5:c=t.sent,i=c.data,a({type:u.Bx,payload:i.success}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),a({type:u.vs,payload:t.t0.response.data.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},l=function(e){return function(){var n=(0,a.Z)((0,r.Z)().mark((function n(t){var a,o;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t({type:u.B6}),n.next=4,s().delete("/api/v1/admin/order/".concat(e));case 4:a=n.sent,o=a.data,t({type:u.Sn,payload:o.success}),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),t({type:u.gq,payload:n.t0.response.data.message});case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()},m=function(){return function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n({type:u.pp});case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()}},36548:function(e,n,t){t.d(n,{C:function(){return a},l:function(){return r}});var r=function(e,n){void 0!==e&&setTimeout((function(){!1===e&&(console.log("userAuth",e),n("/login"))}),500)},a=function(e,n,t,r){!0===e&&n&&void 0!==n.role&&"admin"!==n.role&&(console.log("adminAuth"),t("/login"),r.error("Cannot Access Admin Authorities"))}}}]);
//# sourceMappingURL=64.23459485.chunk.js.map