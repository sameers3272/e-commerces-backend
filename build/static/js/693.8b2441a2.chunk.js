"use strict";(self.webpackChunkfront_end=self.webpackChunkfront_end||[]).push([[693],{8693:function(e,t,a){a.r(t),a.d(t,{default:function(){return x}});var n=a(29439),r=a(72791),i=a(59434),s=a(57689),l=a(36548),u=a(56534),o=a(91265),c=a(30288),d=a(84373),f=a(23853),m=a(6705),p=a(28927),v=a(19017),h=a(80184),x=function(){var e=(0,i.v9)((function(e){return e.user})),t=e.isAuthenticated,a=e.user,x=(0,i.v9)((function(e){return e.profile})),j=x.error,g=x.isUpdated,P=x.loading,A=(0,s.s0)(),y=(0,i.I0)(),N=(0,u.VY)(),C=(0,r.useState)(""),Z=(0,n.Z)(C,2),b=Z[0],S=Z[1],U=(0,r.useState)(""),k=(0,n.Z)(U,2),w=k[0],F=k[1],I=(0,r.useState)(null),E=(0,n.Z)(I,2),D=E[0],q=E[1],B=(0,r.useState)("".concat(v.A,"/images/Profile.png")),R=(0,n.Z)(B,2),T=R[0],_=R[1];return(0,r.useEffect)((function(){a&&(S(a.name),F(a.email),_("".concat(v.A,"/").concat(a.avatar))),j&&(N.error(j),y((0,o.b9)())),g&&(N.success("Profile Updated Successfully"),y((0,o.II)()),A("/account"),y({type:c.l8})),(0,l.l)(t,A)}),[j,y,N,t,A,g,a]),(0,h.jsx)(r.Fragment,{children:P?(0,h.jsx)(p.Z,{}):(0,h.jsxs)(r.Fragment,{children:[(0,h.jsx)(m.Z,{title:"Update Profile"}),(0,h.jsx)("div",{className:"updateProfileContainer",children:(0,h.jsxs)("div",{className:"updateProfileBox",children:[(0,h.jsx)("h2",{className:"updateProfileHeading",children:"Update Profile"}),(0,h.jsxs)("form",{className:"updateProfileForm",onSubmit:function(e){e.preventDefault();var t=new FormData;t.set("name",b),t.set("email",w),t.set("avatar",D),y((0,o.ck)(Object.fromEntries(t)))},encType:"multipart/form-data",children:[(0,h.jsxs)("div",{className:"updateProfileName",children:[(0,h.jsx)(d.hyG,{}),(0,h.jsx)("input",{type:"text",placeholder:"Name",required:!0,name:"name",value:b,onChange:function(e){return S(e.target.value)}})]}),(0,h.jsxs)("div",{className:"updateProfileEmail",children:[(0,h.jsx)(f.Imn,{}),(0,h.jsx)("input",{type:"email",placeholder:"Email",required:!0,name:"email",value:w,onChange:function(e){return F(e.target.value)}})]}),(0,h.jsxs)("div",{id:"updateProfileImage",children:[(0,h.jsx)("img",{src:T,alt:"Avatar Preview"}),(0,h.jsx)("input",{type:"file",name:"avatar",accept:"image/*",onChange:function(e){var t=new FileReader;t.onload=function(){2===t.readyState&&(_(t.result),q(e.target.files[0]))},t.readAsDataURL(e.target.files[0])}})]}),(0,h.jsx)("input",{type:"submit",value:"Update",className:"updateProfileBtn",disabled:!!P})]})]})})]})})}},6705:function(e,t,a){var n=a(54270),r=a(80184);t.Z=function(e){var t=e.title;return(0,r.jsx)(n.Z,{children:(0,r.jsx)("title",{children:t})})}},36548:function(e,t,a){a.d(t,{C:function(){return r},l:function(){return n}});var n=function(e,t){void 0!==e&&setTimeout((function(){!1===e&&(console.log("userAuth",e),t("/login"))}),500)},r=function(e,t,a,n){!0===e&&t&&void 0!==t.role&&"admin"!==t.role&&(console.log("adminAuth"),a("/login"),n.error("Cannot Access Admin Authorities"))}}}]);
//# sourceMappingURL=693.8b2441a2.chunk.js.map